<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒØ¨Ø³</title>
  <style>
    :root {
      --main-bg: #ffffff;
      --text-color: #111111;
      --button-bg: #007bff;
      --button-text: white;
    }

    body.dark {
      --main-bg: #111111;
      --text-color: #ffffff;
      --button-bg: #00bfff;
      --button-text: black;
    }

    body {
      background-color: var(--main-bg);
      color: var(--text-color);
      font-family: 'Tajawal', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.5s, color 0.5s;
      flex-direction: column;
      padding: 1rem;
    }

    .toggle-theme {
      position: fixed;
      top: 1rem;
      left: 1rem;
      background: var(--button-bg);
      color: var(--button-text);
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .screen {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .active {
      display: flex;
    }

    input {
      padding: 0.7rem;
      border-radius: 10px;
      border: 1px solid #ccc;
      width: 250px;
      text-align: center;
    }

    button {
      padding: 1rem 2rem;
      font-size: 1.2rem;
      background: var(--button-bg);
      color: var(--button-text);
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    button:hover {
      transform: scale(1.05);
    }

    .countdown {
      font-size: 5rem;
      animation: pop 1s ease;
    }

    @keyframes pop {
      0% { transform: scale(0.1); opacity: 0; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(1); }
    }

    .score {
      font-size: 2rem;
    }

    .hidden {
      display: none;
    }

    .click-button {
      font-size: 2rem;
      padding: 2rem;
    }

    .timer {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>

  <button class="toggle-theme" onclick="toggleTheme()">ğŸŒ—</button>

  <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div class="screen active" id="login-screen">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
    <input type="email" id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" />
    <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
    <button onclick="goToWelcome()">Ø¯Ø®ÙˆÙ„</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø¡ -->
  <div class="screen" id="welcome-screen">
    <h2>Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒØ¨Ø³ØŸ</h2>
    <button onclick="startCountdown()">Ù†Ø¹Ù…ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ -->
  <div class="screen" id="countdown-screen">
    <div class="countdown" id="countdown-number">3</div>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
  <div class="screen" id="test-screen">
    <div class="timer" id="timer">10</div>
    <div class="score" id="score">0 ÙƒØ¨Ø³Ø©</div>
    <button class="click-button" onclick="registerClick()">ÙƒØ¨Ø³Ø©</button>
  </div>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
  <div class="screen" id="result-screen">
    <h2>Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</h2>
    <p id="result-text"></p>
    <button onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
  </div>

  <script>
    let count = 0;
    let timeLeft = 10;
    let interval;

    function toggleTheme() {
      document.body.classList.toggle("dark");
    }

    function goToWelcome() {
      document.getElementById("login-screen").classList.remove("active");
      document.getElementById("welcome-screen").classList.add("active");
    }

    function startCountdown() {
      document.getElementById("welcome-screen").classList.remove("active");
      document.getElementById("countdown-screen").classList.add("active");

      let countdown = 3;
      const countdownNumber = document.getElementById("countdown-number");
      countdownNumber.textContent = countdown;

      const intervalId = setInterval(() => {
        countdown--;
        countdownNumber.textContent = countdown;
        countdownNumber.classList.remove("countdown");
        void countdownNumber.offsetWidth; // Restart animation
        countdownNumber.classList.add("countdown");

        if (countdown === 0) {
          clearInterval(intervalId);
          document.getElementById("countdown-screen").classList.remove("active");
          document.getElementById("test-screen").classList.add("active");
          startTest();
        }
      }, 1000);
    }

    function startTest() {
      count = 0;
      timeLeft = 10;
      document.getElementById("score").textContent = "0 ÙƒØ¨Ø³Ø©";
      document.getElementById("timer").textContent = timeLeft;

      interval = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = timeLeft;
        if (timeLeft === 0) {
          clearInterval(interval);
          endTest();
        }
      }, 1000);
    }

    function registerClick() {
      count++;
      document.getElementById("score").textContent = `${count} ÙƒØ¨Ø³Ø©`;
    }

    function endTest() {
      document.getElementById("test-screen").classList.remove("active");
      document.getElementById("result-screen").classList.add("active");
      const cps = (count / 10).toFixed(2);
      document.getElementById("result-text").textContent = `Ø£Ù†Øª ØªÙƒØ¨Ø³ Ø¨Ø³Ø±Ø¹Ø© ${cps} ÙƒØ¨Ø³Ø© ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©!`;
    }
  </script>
</body>
</html>

